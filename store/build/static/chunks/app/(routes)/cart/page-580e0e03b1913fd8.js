(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[631],{6870:function(e,a,t){Promise.resolve().then(t.bind(t,9636))},9636:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return page},revalidate:function(){return v}});var n=t(7437),r=t(2265),container=e=>{let{children:a}=e;return(0,n.jsx)("div",{className:"mx-auto max-w-7xl",children:a})},s=t(9375),l=t(2173),i=t(4033);let o=r.createContext({totalPrice:0,setTotalPrice:e=>{}});var delivery_info=e=>{let{formData:a,setFormData:t}=e,{totalPrice:s}=r.useContext(o),handleChange=e=>{t({...a,[e.target.name]:e.target.value})};return(0,n.jsxs)("form",{className:"flex flex-col ",children:[(0,n.jsxs)("div",{className:"flex flex-row gap-4",children:[(0,n.jsx)("input",{type:"text",className:"w-1/2 h-10 items-center text-center",placeholder:"First Name",name:"firstName",value:a.firstName,onChange:handleChange,required:!0}),(0,n.jsx)("input",{type:"text",className:"w-1/2 h-10 items-center text-center",placeholder:"Last Name",name:"lastName",value:a.lastName,onChange:handleChange,required:!0})]}),(0,n.jsx)("input",{type:"tel",className:"w-1/2 h-10 items-center text-center mt-4 mx-auto",placeholder:"Phone Number",name:"phone",value:a.phone,onChange:handleChange,required:!0}),(0,n.jsx)("label",{className:"items-center  mt-4 mx-auto",children:"- - - - - - - -Address Information- - - - - - - -"}),(0,n.jsx)("input",{type:"text",className:"w-full h-10  mt-4 text-center ",placeholder:"Floor/Building Name",name:"floor",value:a.floor,onChange:handleChange,required:!0}),(0,n.jsx)("input",{type:"text",name:"streetAddress",className:"w-full h-10 mt-4 text-center",placeholder:"Street Address",value:a.streetAddress,onChange:handleChange,required:!0}),(0,n.jsxs)("div",{className:"flex flex-row gap-4 h-10 mt-4",children:[(0,n.jsx)("input",{type:"text",placeholder:"City",name:"city",className:"w-1/2 text-center",value:a.city,onChange:handleChange,required:!0}),(0,n.jsx)("input",{type:"text",className:"w-1/2 text-center",placeholder:"Pincode",name:"pincode",value:a.pincode,onChange:handleChange,required:!0})]}),(0,n.jsxs)("select",{name:"state",value:a.state,className:"w-1/2 h-10 items-center text-center mt-4 mb-6 mx-auto",onChange:handleChange,required:!0,children:[(0,n.jsx)("option",{value:"",children:"Select a state"}),(0,n.jsx)("option",{value:"Andhra Pradesh",children:"Andhra Pradesh"}),(0,n.jsx)("option",{value:"Arunachal Pradesh",children:"Arunachal Pradesh"}),(0,n.jsx)("option",{value:"Assam",children:"Assam"}),(0,n.jsx)("option",{value:"Bihar",children:"Bihar"}),(0,n.jsx)("option",{value:"Chhattisgarh",children:"Chhattisgarh"}),(0,n.jsx)("option",{value:"Goa",children:"Goa"}),(0,n.jsx)("option",{value:"Gujarat",children:"Gujarat"}),(0,n.jsx)("option",{value:"Haryana",children:"Haryana"}),(0,n.jsx)("option",{value:"Himachal Pradesh",children:"Himachal Pradesh"}),(0,n.jsx)("option",{value:"Jharkhand",children:"Jharkhand"}),(0,n.jsx)("option",{value:"Karnataka",children:"Karnataka"}),(0,n.jsx)("option",{value:"Kerala",children:"Kerala"}),(0,n.jsx)("option",{value:"Madhya Pradesh",children:"Madhya Pradesh"}),(0,n.jsx)("option",{value:"Maharashtra",children:"Maharashtra"}),(0,n.jsx)("option",{value:"Manipur",children:"Manipur"}),(0,n.jsx)("option",{value:"Meghalaya",children:"Meghalaya"}),(0,n.jsx)("option",{value:"Mizoram",children:"Mizoram"}),(0,n.jsx)("option",{value:"Nagaland",children:"Nagaland"}),(0,n.jsx)("option",{value:"Odisha",children:"Odisha"}),(0,n.jsx)("option",{value:"Punjab",children:"Punjab"}),(0,n.jsx)("option",{value:"Rajasthan",children:"Rajasthan"}),(0,n.jsx)("option",{value:"Sikkim",children:"Sikkim"}),(0,n.jsx)("option",{value:"Tamil Nadu",children:"Tamil Nadu"}),(0,n.jsx)("option",{value:"Telangana",children:"Telangana"}),(0,n.jsx)("option",{value:"Tripura",children:"Tripura"}),(0,n.jsx)("option",{value:"Uttar Pradesh",children:"Uttar Pradesh"}),(0,n.jsx)("option",{value:"Uttarakhand",children:"Uttarakhand"}),(0,n.jsx)("option",{value:"West Bengal",children:"West Bengal"}),(0,n.jsx)("option",{value:"Andaman and Nicobar Islands",children:"Andaman and Nicobar Islands"}),(0,n.jsx)("option",{value:"Chandigarh",children:"Chandigarh"}),(0,n.jsx)("option",{value:"Dadra and Nagar Haveli and Daman and Diu",children:"Dadra and Nagar Haveli and Daman and Diu"}),(0,n.jsx)("option",{value:"The Government of NCT of Delhi",children:"Delhi"}),(0,n.jsx)("option",{value:"Lakshadweep",children:"Lakshadweep"}),(0,n.jsx)("option",{value:"Puducherry",children:"Puducherry"}),(0,n.jsx)("option",{value:"Ladakh",children:"Ladakh"})]})]})},d=t(3611),c=t(234),h=t(5925),summary=()=>{let e=(0,i.useSearchParams)(),a=(0,s.Z)(e=>e.items),t=(0,s.Z)(e=>e.removeAll),[o,u]=(0,r.useState)({firstName:"",lastName:"",phone:"",floor:"",buildingName:"",streetAddress:"",city:"",state:"",pincode:""});(0,r.useEffect)(()=>{e.get("success")&&(h.toast.success("Payment completed."),t()),e.get("canceled")&&h.toast.error("Something went wrong.")},[e,t]);let m=a.reduce((e,a)=>e+Number(a.price)*a.quantity,0),onCheckout=async()=>{let e=await l.Z.post("".concat("http://localhost:3000/api/5f33eb48-56b8-4445-bbfb-f89665ea1307","/checkout"),{productIds:a.map(e=>e.id),orderData:o,totalPrice:m}).catch(e=>{console.log("Error in axios post request"),console.log(e)});e?window.location.href=e.data.linkUrl:console.log("No response from server")};return(0,n.jsxs)("div",{className:"mt-16 rounded-lg bg-gray-50 px-4 py-6 sm:p-6 lg:col-span-5 lg:mt-0 lg:p-8",children:[(0,n.jsx)(delivery_info,{formData:o,setFormData:u}),(0,n.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Order summary"}),(0,n.jsx)("div",{className:"mt-6 space-y-4",children:(0,n.jsxs)("div",{className:"flex items-center justify-between border-t border-gray-200 pt-4",children:[(0,n.jsx)("div",{className:"text-base font-medium text-gray-900",children:"Order total"}),(0,n.jsx)(c.Z,{value:m})]})}),(0,n.jsx)(d.Z,{onClick:onCheckout,disabled:0===a.length,className:"w-full mt-6",children:"Proceed to Payment"})]})},u=t(6691),m=t.n(u),x=t(2549),p=t(1477),cart_item=e=>{let{data:a}=e,t=(0,s.Z)();return(0,n.jsxs)("li",{className:"flex py-6 border-b",children:[(0,n.jsx)("div",{className:"relative h-24 w-24 rounded-md overflow-hidden sm:h-48 sm:w-48",children:(0,n.jsx)(m(),{fill:!0,src:a.images[0].url,alt:"",className:"object-cover object-center"})}),(0,n.jsxs)("div",{className:"relative ml-4 flex flex-1 flex-col justify-between sm:ml-6",children:[(0,n.jsx)("div",{className:"absolute z-10 right-0 top-0",children:(0,n.jsx)(p.Z,{onClick:()=>{t.removeItem(a.id)},icon:(0,n.jsx)(x.Z,{size:15})})}),(0,n.jsxs)("div",{className:"relative pr-9 sm:grid sm:grid-cols-2 sm:gap-x-6 sm:pr-0",children:[(0,n.jsx)("div",{className:"flex justify-between",children:(0,n.jsxs)("p",{className:" text-lg font-semibold text-black",children:[a.name," (Quantity: ",a.quantity,")"]})}),(0,n.jsxs)("div",{className:"mt-1 flex text-sm",children:[(0,n.jsx)("p",{className:"text-gray-500",children:a.color.name}),(0,n.jsx)("p",{className:"ml-4 border-l border-gray-200 pl-4 text-gray-500",children:a.size.name})]}),(0,n.jsx)(c.Z,{value:a.price})]})]})]})};let v=0;var page=()=>{let[e,a]=(0,r.useState)(!1),t=(0,s.Z)();(0,r.useEffect)(()=>{a(!0)},[]);let[l,i]=r.useState(0),handleRemoveItem=e=>{t.removeItem(e)};return e?(0,n.jsx)(o.Provider,{value:{totalPrice:l,setTotalPrice:i},children:(0,n.jsx)("div",{className:"bg-white",children:(0,n.jsx)(container,{children:(0,n.jsxs)("div",{className:"px-4 py-16 sm:px-6 lg:px-8",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-black",children:"Shopping Cart"}),(0,n.jsxs)("div",{className:"mt-12 lg:grid lg:grid-cols-12 lg:items-start gap-x-12",children:[(0,n.jsxs)("div",{className:"lg:col-span-7",children:[0===t.items.length&&(0,n.jsx)("p",{className:"text-neutral-500",children:"No items added to cart."}),(0,n.jsx)("ul",{children:t.items.map(e=>(0,n.jsx)(cart_item,{data:e,onRemove:()=>handleRemoveItem(e.id)},e.id))})]}),(0,n.jsx)(summary,{})]})]})})})}):null}},3611:function(e,a,t){"use strict";var n=t(7437),r=t(2265),s=t(1628);let l=(0,r.forwardRef)((e,a)=>{let{className:t,children:r,disabled:l,type:i="button",...o}=e;return(0,n.jsx)("button",{type:i,className:(0,s.cn)("\n        w-auto \n        rounded-full \n        bg-black\n        border\n        border-transparent\n        px-5 \n        py-3 \n        disabled:cursor-not-allowed \n        disabled:opacity-50\n        text-white\n        font-semibold\n        hover:opacity-75\n        transition\n      ",l&&"opacity-75 cursor-not-allowed",t),disabled:l,ref:a,...o,children:r})});l.displayName="Button",a.Z=l},234:function(e,a,t){"use strict";var n=t(7437),r=t(2265);let s=new Intl.NumberFormat("en-US",{style:"currency",currency:"INR"});a.Z=e=>{let{value:a=0}=e,[t,l]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{l(!0)},[]),t)?(0,n.jsx)("div",{className:"font-semibold",children:s.format(Number(a))}):null}},1477:function(e,a,t){"use strict";var n=t(7437),r=t(1628);a.Z=e=>{let{onClick:a,icon:t,className:s}=e;return(0,n.jsx)("button",{onClick:a,className:(0,r.cn)("rounded-full flex items-center justify-center bg-white border shadow-md p-2 hover:scale-110 transition",s),children:t})}},9375:function(e,a,t){"use strict";var n=t(4660),r=t(5925),s=t(4810);let l=(0,n.Ue)((0,s.tJ)((e,a)=>({items:[],addItem:t=>{let n=a().items,s=n.find(e=>e.id===t.id);s?s.quantity+=1:n.push({...t,quantity:1}),e({items:[...n]}),r.toast.success("Item added to cart.")},removeItem:t=>{let n=a().items,s=n.findIndex(e=>e.id===t);if(-1!==s){let e=n[s];e.quantity>1?n[s]={...e,quantity:e.quantity-1}:n.splice(s,1)}e({items:[...n]}),r.toast.success("Item removed from cart.")},removeAll:()=>e({items:[]}),getTotalItems:()=>a().items.reduce((e,a)=>e+a.quantity,0)}),{name:"cart-storage",storage:(0,s.FL)(()=>localStorage)}));a.Z=l},1628:function(e,a,t){"use strict";t.d(a,{cn:function(){return cn}});var n=t(348),r=t(3986);function cn(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,r.m)((0,n.W)(a))}}},function(e){e.O(0,[798,813,971,472,744],function(){return e(e.s=6870)}),_N_E=e.O()}]);